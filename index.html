<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Goalie Fantasy Points Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        label, input, button {
            display: block;
            margin-bottom: 10px;
        }
        #result {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Goalie Fantasy Points Calculator</h1>
    <label for="winProb">Win Probability (as decimal, e.g., 0.62):</label>
    <input type="number" id="winProb" step="0.01" placeholder="Enter Win Probability">

    <label for="shotsAgainst">Opposing Team Average Shots Per Game:</label>
    <input type="number" id="shotsAgainst" step="1" placeholder="Enter Average Shots">

    <label for="projGoalsAgainst">Projected Goals Against (PGA):</label>
    <input type="number" id="projGoalsAgainst" step="0.1" placeholder="Enter Projected Goals Against">

    <button onclick="calculateFantasyPoints()">Calculate Fantasy Points</button>

    <div id="result"></div>

    <script>
        function calculateFantasyPoints() {
            const winProb = parseFloat(document.getElementById('winProb').value);
            const shotsAgainst = parseFloat(document.getElementById('shotsAgainst').value);
            const projGoalsAgainst = parseFloat(document.getElementById('projGoalsAgainst').value);

            if (isNaN(winProb) || isNaN(shotsAgainst) || isNaN(projGoalsAgainst)) {
                document.getElementById('result').innerText = "Please fill in all fields with valid numbers.";
                return;
            }

            // Fixed Shutout Scaling Factor (a = 1)
            const shutoutScaling = 1;

            // Calculate Shutout Probability
            const shutoutProbability = Math.exp(-shutoutScaling * projGoalsAgainst);

            // Calculate Fantasy Points
            const winPoints = winProb * 6;
            const savePoints = (shotsAgainst - projGoalsAgainst) * 0.7;
            const goalsAgainstPenalty = projGoalsAgainst * -3.5;
            const shutoutPoints = shutoutProbability * 4;

            const fantasyPoints = winPoints + savePoints + goalsAgainstPenalty + shutoutPoints;

            document.getElementById('result').innerText = 
                `Fantasy Points: ${fantasyPoints.toFixed(2)} (Shutout Probability: ${(shutoutProbability * 100).toFixed(2)}%)`;
        }
    </script>
</body>
</html>
